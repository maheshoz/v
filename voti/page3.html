<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>page3</title>
	<link rel="icon" href="2.jpg">
	<script src="https://www.gstatic.com/firebasejs/4.12.1/firebase.js"></script>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
	

	<style>
		h1{
			text-align: center;
			background: coral;
			color: white;
			margin-top: 0;
			padding-top: 0;
			font-size: 36px;
		}
		.container{
			width: 80%;
			margin: auto;
			text-align: center;
		}
		div{
			margin: auto;
		}
		.w3-container{
			width:55%;
		}
		span{
			font-size: 20px;
		}
	</style>
	

</head>
<body>


	<h1>Online Voting Application</h1>
	
	<div class="w3-container">
		<h2 class="w3-green">Thanks for voting</h2>
		<h1>Current Voting Results</h1>
		<ul class="w3-ul w3-card-4" >
		    <li>1. Web Technologies &nbsp;&nbsp;&nbsp; <h2 id="a1">	a</h2></li>
		    <li>2. Linux Internals&nbsp;&nbsp;&nbsp; <h2 id="b">b</h2></li>
		    <li>3. Probability and Statistics &nbsp;&nbsp;&nbsp; <h2 id="c">c</h2></li>
		    <li>4. DBMS &nbsp;&nbsp;&nbsp; <h2 id="d">d</h2></li></li>
		</ul>
	</div>
	
	<div style="margin-top: 200px;"></div>

	
<script>
		 
 // Initialize Firebase
	var config = {
	    apiKey: "AIzaSyCfmUV8apnro0ZY4LbwxnzxNM6NpTBSf00",
	    authDomain: "vot-app.firebaseapp.com",
	    databaseURL: "https://vot-app.firebaseio.com",
	    projectId: "vot-app",
	    storageBucket: "",
	    messagingSenderId: "616079849230"
	  };
	  firebase.initializeApp(config);

	  var a1 = document.getElementById('a1');
	  var b = document.getElementById('b');
	  var c = document.getElementById('c');
	  var d = document.getElementById('d');

	  var dbRefa1 = firebase.database().ref().child('votes/a1');
	  var dbRefb = firebase.database().ref().child('votes/b');
	  var dbRefc = firebase.database().ref().child('votes/c');
	  var dbRefd = firebase.database().ref().child('votes/d');

	 


	   dbRefa1.on('value', function(snap){
	  	a1.innerText = snap.val();
	  	
	  });
	  dbRefb.on('value', function(snap){
	  	b.innerText = snap.val();
	  	
	  });
	  dbRefc.on('value', function(snap){
	  	c.innerText = snap.val();
	  	
	  });
	  dbRefd.on('value', function(snap){
	  	d.innerText = snap.val();
	  	
	  });



	 

	  function adda1(){
	  	dbRefa1.transaction(function(value)
	   {
			   return value + 1;
			});
	  };

	  function addb(){
	  	dbRefb.transaction(function(value)
	   {
			   return value + 1;
			});
	  };

	  function addc(){
	  	dbRefc.transaction(function(value)
	   {
			   return value + 1;
			});
	  };

	  function addd(){
	  	dbRefd.transaction(function(value)
	   {
			   return value + 1;
			});
	};


	
 </script>


</body>
</html>
